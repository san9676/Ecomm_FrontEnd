<html>
<head>
<script>
function CreateAccount(){
   var FIRSTNAME = document.getElementById("fid").value;
   var MIDDLENAME = document.getElementById("mid").value;
   var LASTNAME = document.getElementById("lid").value;
   var PHNO = document.getElementById("pid").value;
   var GENDER = document.getElementById("Gender").value;
   var EMAIL = document.getElementById("eid").value;
   var username = document.getElementById("usrn").value;
   var PASSWORD = document.getElementById("pswd").value;
var jsonObj = { 
  "FirstName": FIRSTNAME,
  "MiddleName": MIDDLENAME,
  "LastName": LASTNAME,
  "PhoneNum": PHNO,
  "Gender": GENDER,
  "Email": EMAIL,
  "Username": username,
  "Password": PASSWORD
};

var formData =JSON.stringify(jsonObj);
var req = new XMLHttpRequest();
req.open("post", "http://localhost:10908/createaccount")
req.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
req.send(formData);
req.onload= () => {
 var res = JSON.parse(req.responseText);
 console.log(res);
if(res.RespCode =="200"){
   alert(res.Username);
   alert("Account Created Sucessfully");
   window.location.href="loginHome.html";
   
  }
  else {
       alert(res.Username);
       alert(res.RespText);
      window.location.href="CreateAccount.html";
  }


}

}
</script>
</head>
<body style="background-color:Aquamarine;">
<h2>Create Account</h2>
<form action='javascript:CreateAccount();' method="POST" >
  <label><b>FirstName:</b></label>
  <input type="text" placeholder="Enter FirstName" name="FirstName" id='fid' required><br><br>
  
  <label><b>MiddleName:</b></label>
 <input type="text" placeholder="Enter MiddleName" name="MiddleName" id='mid'><br><br>
 
  <label><b>LastName:</b></label>
  <input type="text" placeholder="Enter LastName" name="LastName" id='lid'required><br><br>
  
  <label><b>PhoneNo:</b></label>
  <input type="number" placeholder="Enter Phone" name="Phone" id='pid' required pattern="[6789][0-9]{9}"><br><br>
  
  <label><b>Gender:</b></label>
  <input type="text" placeholder="Enter Gender" name="Gender" id='Gender'required><br><br>

  
  <label><b>EmailId:</b></label>
  <input type="email" placeholder="Enter EmailId" name="EmailId" id='eid'required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"><br><br>
 
 <label><b>Username:</b></label>
  <input type="text" placeholder="Enter username" name="Username" id='usrn'required><br><br>
  
  <label><b>Password:</b></label>
  <input type="Password" placeholder="Enter Password" name="Password" id='pswd' pattern=".{8,}" title="Eight or more characters" required><br><br>
  
  
  <button type="submit">Submit</button> <br><br>
  <a href="loginHome.html">Already an existing user? </a><br><br>

 </form>
</body>
</html>